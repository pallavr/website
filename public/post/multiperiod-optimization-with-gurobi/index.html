<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.32.2" />
  <meta name="author" content="Pallav Routh">

  
  
  
  
    
      
    
  
  <meta name="description" content="body {text-align: justify}This is a simple example of multiperiod programming. The question was also derived from Optimization in Operations Research by Rardin. The question reads:
Ace Green Windows (AGW) manufactures environmentally efficient windows as replacements of those in existing homes. It has just received a contract for the next 6 months, requiring 100, 250, 190, 140, 220, and 110 units in months 1 through 6, respectively. Production costs for windows vary with time due to the specialized materials.">

  
  <link rel="alternate" hreflang="en-us" href="/post/multiperiod-optimization-with-gurobi/">

  


  

  
  
  <meta name="theme-color" content="#0095eb">
  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Home">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Home">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/multiperiod-optimization-with-gurobi/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@pallav_routh">
  <meta property="twitter:creator" content="@pallav_routh">
  
  <meta property="og:site_name" content="Home">
  <meta property="og:url" content="/post/multiperiod-optimization-with-gurobi/">
  <meta property="og:title" content="Multiperiod Optimization with Gurobi | Home">
  <meta property="og:description" content="body {text-align: justify}This is a simple example of multiperiod programming. The question was also derived from Optimization in Operations Research by Rardin. The question reads:
Ace Green Windows (AGW) manufactures environmentally efficient windows as replacements of those in existing homes. It has just received a contract for the next 6 months, requiring 100, 250, 190, 140, 220, and 110 units in months 1 through 6, respectively. Production costs for windows vary with time due to the specialized materials."><meta property="og:image" content="/img/headers/window.jpg">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-01-07T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2018-01-07T00:00:00&#43;00:00">
  

  

  <title>Multiperiod Optimization with Gurobi | Home</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/"><img src="/img/pic.png" alt="Home"></a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#publications">
            
            <span>Research</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#teaching">
            
            <span>Teaching</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  
<div class="article-header">
  <img src="/img/headers/window.jpg" class="article-banner" itemprop="image">
  
</div>



  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">Multiperiod Optimization with Gurobi</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2018-01-07 00:00:00 &#43;0000 UTC" itemprop="datePublished dateModified">
      Jan 7, 2018
    </time>
  </span>
  <span itemscope itemprop="author publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Pallav Routh">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    4 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/categories/prescriptive-analytics">prescriptive analytics</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Multiperiod%20Optimization%20with%20Gurobi&amp;url=%2fpost%2fmultiperiod-optimization-with-gurobi%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fmultiperiod-optimization-with-gurobi%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fmultiperiod-optimization-with-gurobi%2f&amp;title=Multiperiod%20Optimization%20with%20Gurobi"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fmultiperiod-optimization-with-gurobi%2f&amp;title=Multiperiod%20Optimization%20with%20Gurobi"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Multiperiod%20Optimization%20with%20Gurobi&amp;body=%2fpost%2fmultiperiod-optimization-with-gurobi%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


      <div class="article-style" itemprop="articleBody">
        <style>
body {
text-align: justify}
</style>
<p>This is a simple example of multiperiod programming. The question was also derived from <strong>Optimization in Operations Research</strong> by <em>Rardin</em>. The question reads:</p>
<p><em>Ace Green Windows (AGW) manufactures environmentally efficient windows as replacements of those in existing homes. It has just received a contract for the next 6 months, requiring 100, 250, 190, 140, 220, and 110 units in months 1 through 6, respectively. Production costs for windows vary with time due to the specialized materials. AGW estimates production will cost</em> $250, $450,$350, $400, $520, and $500 <em>per unit in periods 1 through 6, respectively. To take advantage of cost variations, AGW may produce more windows than the contract requires in some months and hold up to 375 of them in inventory for later months. But holding inventory costs $30 per window per month. Assume there is no beginning inventory.</em></p>
<p>For simplicity letâ€™s assume that the months are from January to June. This creates the dimension of the problem. Let it be indexed by . Let the requirements for each month be denoted by <span class="math inline">\(d_t\)</span>. Let the cost of production for each month be denoted by <span class="math inline">\(p_t\)</span>.</p>
<p>The time-phased linear optimization model can be written as:</p>
<p><span class="math display">\[\sum_{t = Jan}^{Jun} p_t x_t + 30 \sum_{t = Jan}^{Jun} h_t\]</span></p>
<p><strong>Subject to:</strong></p>
<p><span class="math display">\[ h_{t-1} + x_t = d_t + h_t \quad \forall \quad t = 1,..6;  ....(1) \]</span></p>
<p><span class="math display">\[ h_t \leq 375 \quad \forall \quad t = 1,..6; ....(2)\]</span></p>
<p><span class="math display">\[ h_t, x_t \geq 0 \quad ....(3)\]</span></p>
<p>The first constraint defines the relationship between closing inventory from last period, current production and the current inventory with the present demand. The second constraint follows from the instruction in the question allowing an upper bound on the holding inventory to go beyond the required for every month. Lastly, we assume both are non negative.</p>
<p>We should take care while interpreting the first constraint in the opening and closing months. For January <span class="math inline">\(h_{t-1}\)</span> is just 0 while for the closing month in June, the <span class="math inline">\(h_t\)</span> is zero thereby reassuring the remaining inventory from May and current production from June equals current requirement for June and there are no left-over windows.</p>
<p>Hereâ€™s the solution in Python:</p>
<pre class="python"><code>from gurobipy import *
m = Model(&#39;Window Inventory&#39;)
#create dimensions of the problem
calender = [&#39;Jan&#39;,&#39;Feb&#39;,&#39;Mar&#39;,&#39;Apr&#39;,&#39;May&#39;,&#39;Jun&#39;] #will be indexed by t
#monthly requirements
requirements = {&#39;Jan&#39;:100,
                &#39;Feb&#39;:250,
                &#39;Mar&#39;:190,
                &#39;Apr&#39;:140,
                &#39;May&#39;:220,
                &#39;Jun&#39;:110}
# production costs
prod_cost =    {&#39;Jan&#39;:250,
                &#39;Feb&#39;:450,
                &#39;Mar&#39;:350,
                &#39;Apr&#39;:400,
                &#39;May&#39;:520,
                &#39;Jun&#39;:500}
                
                
#create decision variables
#units produced in month t
produced = {}
for t in calender:
    produced[t] = m.addVar(lb = 0, vtype = GRB.CONTINUOUS, name = &#39;produced_%s&#39;%(t))
# units held at time t
held = {}
for t in calender:
    held[t] = m.addVar(lb = 0, ub = 375, vtype = GRB.CONTINUOUS, name = &#39;held_%s&#39;%(t))
    
m.update()
#set the objective
obj1 = quicksum( produced[t]*prod_cost[t] for t in calender )
obj2 = 30*quicksum( held[t] for t in calender )
obj = obj1 + obj2
m.setObjective(obj)
#define constraints
#beginning inventory + production amount - ending inventory = demand
#begining inventory + production amount = demand + ending inventory
#initial balance
m.addConstr(produced[&#39;Jan&#39;] == requirements[&#39;Jan&#39;]+held[&#39;Jan&#39;], &#39;inital&#39;)
#closing balance
m.addConstr(produced[&#39;Jun&#39;]+held[&#39;May&#39;] == requirements[&#39;Jun&#39;], &#39;closing&#39;)
# remaining balances
for t in calender:
    if t != calender[0] and t != calender[5]:
        m.addConstr(held[calender[calender.index(t) -1]]+produced[t] == requirements[t]+held[t], &#39;remaining&#39;)
        
m.optimize()</code></pre>
<pre><code>## Optimize a model with 6 rows, 12 columns and 16 nonzeros
## Coefficient statistics:
##   Matrix range     [1e+00, 1e+00]
##   Objective range  [3e+01, 5e+02]
##   Bounds range     [4e+02, 4e+02]
##   RHS range        [1e+02, 3e+02]
## Presolve removed 2 rows and 5 columns
## Presolve time: 0.06s
## Presolved: 4 rows, 7 columns, 10 nonzeros
## 
## Iteration    Objective       Primal Inf.    Dual Inf.      Time
##        0    3.8200000e+04   1.137500e+02   0.000000e+00      0s
##        4    3.5020000e+05   0.000000e+00   0.000000e+00      0s
## 
## Solved in 4 iterations and 0.11 seconds
## Optimal objective  3.502000000e+05</code></pre>
<pre class="python"><code>if m.status == GRB.status.OPTIMAL:
    print(&#39;\nMinimum objective is :&#39;,m.objval)</code></pre>
<pre><code>## 
## Minimum objective is : 350200.0</code></pre>
<pre class="python"><code>if m.status == GRB.status.OPTIMAL:
    print (&#39;\nOptimal inventory :&#39;)
    for t in calender:
        print(&#39;produced at &#39;+ str(t) + &#39;: &#39; + str(produced[t].x))
        print(&#39;held at &#39; + str(t) + &#39;: &#39; + str(held[t].x))</code></pre>
<pre><code>## 
## Optimal inventory :
## produced at Jan: 475.0
## held at Jan: 375.0
## produced at Feb: 0.0
## held at Feb: 125.0
## produced at Mar: 440.0
## held at Mar: 375.0
## produced at Apr: 95.0
## held at Apr: 330.0
## produced at May: 0.0
## held at May: 110.0
## produced at Jun: 0.0
## held at Jun: 0.0</code></pre>
<p>The output gives the optimal or minimal cost of inventory and production at <span class="math inline">\(\$ 350200\)</span>. The company does make use of the variable production cost specifically in the months of January and March when they also hold the maximum specified inventory. This allows the company to store more and produce less (almost 0) during the ending months when the production costs are higher.</p>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/linear-programming">Linear programming</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/multiperiod-optimization">Multiperiod Optimization</a>
  
</div>



    </div>
  </div>

</article>



<div class="article-container article-widget">
  <div class="hr-light"></div>
  <h3>Related</h3>
  <ul>
    
    <li><a href="/post/optimization-with-gurobi/">Optimization with Gurobi</a></li>
    
  </ul>
</div>




<div class="article-container">
  

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>

